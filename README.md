# ğŸ¤– Zotero AI Reader & Organizer

<div align="center">

**è®© AI å¸®ä½ è¯»è®ºæ–‡ + åŒè½¨è‡ªåŠ¨åˆ†ç±»ï¼Œè§£æ”¾ä½ çš„æ—¶é—´ï¼**

[![Python](https://img.shields.io/badge/Python-3.7+-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Zotero](https://img.shields.io/badge/Zotero-API-orange.svg)](https://www.zotero.org/)

*ä¸€ä¸ªå¼ºå¤§çš„ Zotero æ–‡çŒ®è‡ªåŠ¨åŒ–å·¥å…·ï¼Œä½¿ç”¨ AI æ·±åº¦ç†è§£è®ºæ–‡å¹¶è‡ªåŠ¨åˆ†ç±»åˆ°åŒè½¨é›†åˆç»“æ„*

[âœ¨ ç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§) â€¢ [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ğŸ“– ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—) â€¢ [ğŸ’¡ ä½¿ç”¨åœºæ™¯](#-ä½¿ç”¨åœºæ™¯)

</div>

---

## ğŸŒŸ ä¸ºä»€ä¹ˆéœ€è¦å®ƒ?

è¿˜åœ¨ä¸ºå †ç§¯å¦‚å±±çš„è®ºæ–‡å‘æ„å—ï¼Ÿè¿˜åœ¨é€å­—é€å¥åœ°é˜…è¯»æ¯ä¸€ç¯‡æ–‡çŒ®å—ï¼Ÿè¿˜åœ¨æ‰‹åŠ¨æ•´ç†æ–‡çŒ®åˆ°ä¸åŒæ–‡ä»¶å¤¹å—ï¼Ÿ

**Zotero AI Reader** æ¥æ‹¯æ•‘ä½ ï¼ğŸ‰

è¿™ä¸ªå·¥å…·å¯ä»¥ï¼š

- ğŸ“š **è‡ªåŠ¨è¯»å–** Zotero æ–‡çŒ®åº“ä¸­çš„ PDF
- ğŸ§  **AI æ·±åº¦åˆ†æ** è®ºæ–‡çš„æ ¸å¿ƒå†…å®¹
- ğŸ“ **ç”Ÿæˆç»“æ„åŒ–ç¬”è®°** ç›´æ¥ä¿å­˜åˆ° Zotero
- ğŸ—‚ï¸ **åŒè½¨æ™ºèƒ½åˆ†ç±»** åŒæ—¶å½’æ¡£åˆ°å­¦ç§‘åˆ†ç±» + ç§‘å­¦é—®é¢˜åˆ†ç±»
- ğŸ‘¤ **ä¸ªæ€§åŒ–ç”»åƒ** åŸºäºé˜…è¯»å†å²åŠ¨æ€è°ƒæ•´åˆ†ç±»ç­–ç•¥
- âš¡ **æ‰¹é‡å¤„ç†** æ•´ä¸ªæ–‡çŒ®åº“æˆ–æŒ‡å®šé›†åˆ
- ğŸ·ï¸ **æ™ºèƒ½æ ‡è®°** å·²å¤„ç†çš„æ–‡çŒ®ï¼Œé¿å…é‡å¤å·¥ä½œ

**æƒ³è±¡ä¸€ä¸‹**ï¼šæ—©ä¸Šèµ·åºŠï¼Œå‘ç°æ˜¨æ™šçš„ 50 ç¯‡è®ºæ–‡å·²ç»è¢« AI åˆ†æå®Œæ¯•ï¼Œæ¯ç¯‡éƒ½æœ‰è¯¦ç»†çš„ç»“æ„åŒ–ç¬”è®°ï¼Œå¹¶ä¸”è‡ªåŠ¨å½’ç±»åˆ° "ğŸ“š Archive/Hazards/Flash Drought" å’Œ "ğŸ’¡ Idea Lab/Mechanism/Abrupt Transitions" ä¸¤ä¸ªäº’è¡¥çš„ç»“æ„ä¸­ï¼Œè€Œä½ åªéœ€è¦å–æ¯å’–å•¡ï¼Œæµè§ˆä¸€ä¸‹é‡ç‚¹ï¼â˜•

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ™ºèƒ½è®ºæ–‡åˆ†æ

- **8 å¤§åˆ†æç»´åº¦**ï¼šä»æ ¸å¿ƒæ€»è§ˆåˆ°é€šä¿—è§£è¯»ï¼Œå…¨æ–¹ä½ç†è§£è®ºæ–‡
- **ç»“æ„åŒ–è¾“å‡º**ï¼šç ”ç©¶é—®é¢˜ã€è®ºè¯è·¯å¾„ã€æ•°æ®æ–¹æ³•ã€æ‰¹åˆ¤è§†è§’ä¸€åº”ä¿±å…¨
- **é˜²å¹»è§‰è®¾è®¡**ï¼šå¼ºè°ƒå¼•ç”¨é¡µç å’Œå›¾è¡¨ç¼–å·ï¼Œç¡®ä¿ä¿¡æ¯å‡†ç¡®

### ğŸ—‚ï¸ åŒè½¨è‡ªåŠ¨åˆ†ç±»ç³»ç»Ÿ (NEW!)

**æ ¸å¿ƒç†å¿µï¼š"èµ°ä¸¤æ¡è…¿"** - ä¸€ç¯‡è®ºæ–‡åŒæ—¶å½’å…¥ä¸¤ä¸ªåˆ†ç±»ä½“ç³»

#### Track A (ğŸ“š Archive): å­¦ç§‘åˆ†ç±»
æ ‡å‡†çš„å­¦ç§‘/æ–¹æ³•è®ºåˆ†ç±»ï¼Œä¾¿äºç³»ç»Ÿæ€§æ£€ç´¢ï¼š
- **Processes**: ET, Runoff, Soil Moisture, Cryosphere...
- **Hazards**: Drought, Flood, DFA, Extremes...
- **Methodology**: Remote Sensing, Deep Learning, Triple Collocation...
- **Applications**: Water Management, Climate Impact...

#### Track B (ğŸ’¡ Idea Lab): é—®é¢˜é©±åŠ¨åˆ†ç±»
åŸºäºç§‘å­¦é—®é¢˜å’Œç‰©ç†æœºåˆ¶çš„"å“å‘³é©±åŠ¨"åˆ†ç±»ï¼š
- **Mechanism**: Abrupt Transitions, Land-Atmosphere Coupling, Thresholds...
- **Data Philosophy**: Signal Purification, Scale Issues, Multi-Source Integration...
- **Modeling**: Physics-Informed AI, Causal Inference, Hybrid Modeling...
- **Dynamics**: Non-linearity, Tipping Points, Rapid Onset...
- **Coupling**: Vegetation-Water, Energy-Water, Human-Nature Systems...

**ä¼˜åŠ¿**ï¼š
- âœ… **äº’è¡¥æ€§**: æ—¢æ»¡è¶³ä¼ ç»Ÿæ£€ç´¢éœ€æ±‚ï¼Œåˆæ¿€å‘ç§‘ç ”çµæ„Ÿ
- âœ… **ä¸ªæ€§åŒ–**: åŸºäºä½ çš„é˜…è¯»å†å²åŠ¨æ€è°ƒæ•´
- âœ… **ä¸€é”®åŒå½’**: åˆ©ç”¨ Zotero å¤šé›†åˆç‰¹æ€§ï¼Œä¸€ç¯‡è®ºæ–‡åŒæ—¶å‡ºç°åœ¨ä¸¤å¤„

### ğŸ§  æ™ºèƒ½ç”»åƒç³»ç»Ÿ (NEW!)

- **åŠ¨æ€å“å‘³æå–**ï¼šåˆ†ææœ€è¿‘ 20 ç¯‡é˜…è¯»è®ºæ–‡ï¼Œç†è§£ä½ çš„å½“å‰å…³æ³¨ç‚¹
- **è‡ªåŠ¨é€‚é…åˆ†ç±»**ï¼šæ ¹æ®ä½ çš„ç ”ç©¶å“å‘³è°ƒæ•´ AI åˆ†ç±»é€»è¾‘
- **æŒç»­è¿›åŒ–**ï¼šå®šæœŸè¿è¡Œ profiler.py æ›´æ–°ç”»åƒï¼Œåˆ†ç±»è¶Šç”¨è¶Šèªæ˜

### ğŸ”„ è‡ªåŠ¨åŒ–å·¥ä½œæµ

- **é›¶æ‰‹åŠ¨æ“ä½œ**ï¼šé…ç½®ä¸€æ¬¡ï¼Œè‡ªåŠ¨å¤„ç†æ•´ä¸ªæ–‡çŒ®åº“
- **æ™ºèƒ½å»é‡**ï¼šè‡ªåŠ¨è·³è¿‡å·²å¤„ç†çš„æ–‡çŒ®
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒæŒ‰é›†åˆã€ç±»å‹ç­›é€‰ï¼Œçµæ´»æ§åˆ¶
- **Token ä¼˜åŒ–**ï¼šæœ¬åœ°ç¼“å­˜ + ç²¾ç®€æç¤ºè¯ï¼Œé™ä½ API æˆæœ¬

### ğŸ›¡ï¸ ä¼ä¸šçº§é”™è¯¯å¤„ç† (NEW!)

- **å…¨é¢çš„é”™è¯¯éªŒè¯**ï¼šæ‰€æœ‰ API å“åº”å’Œæ•°æ®ç»“æ„åœ¨ä½¿ç”¨å‰éƒ½ç»è¿‡éªŒè¯
- **æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯**ï¼šæ¯ä¸ªé”™è¯¯éƒ½æœ‰è¯¦ç»†çš„ä¸­è‹±æ–‡è¯´æ˜å’Œå»ºè®®è§£å†³æ–¹æ¡ˆ
- **æ™ºèƒ½é‡è¯•æœºåˆ¶**ï¼šè‡ªåŠ¨è¯†åˆ«æš‚æ—¶æ€§é”™è¯¯ï¼ˆè¶…æ—¶ã€ç½‘ç»œä¸­æ–­ã€é€Ÿç‡é™åˆ¶ï¼‰å¹¶ä½¿ç”¨æŒ‡æ•°é€€é¿é‡è¯•
- **ä¼˜é›…é™çº§**ï¼šéƒ¨åˆ†å¤±è´¥æ—¶ç»§ç»­å¤„ç†ï¼ˆå¦‚ PDF å•é¡µè¯»å–å¤±è´¥ï¼‰è€Œä¸æ˜¯å®Œå…¨å´©æºƒ
- **è¯¦ç»†çš„é”™è¯¯åˆ†ç±»**ï¼šåŒºåˆ†æƒé™é”™è¯¯ã€ç½‘ç»œé”™è¯¯ã€æ•°æ®æ ¼å¼é”™è¯¯ç­‰ï¼Œä¾¿äºå¿«é€Ÿå®šä½é—®é¢˜
- **å¼ºå¤§çš„æ•°æ®éªŒè¯**ï¼š
  - PDF æ–‡ä»¶ï¼šå®Œæ•´æ€§æ£€æŸ¥ã€æƒé™éªŒè¯ã€é¡µæ•°éªŒè¯ã€å†…å®¹éªŒè¯
  - API å“åº”ï¼šç»“æ„éªŒè¯ã€å¿…éœ€å­—æ®µæ£€æŸ¥ã€ç±»å‹éªŒè¯
  - JSON æ•°æ®ï¼šSchema éªŒè¯ã€å­—æ®µç±»å‹æ£€æŸ¥ã€é»˜è®¤å€¼å›é€€
  - é…ç½®æ–‡ä»¶ï¼šå¿…éœ€å±æ€§æ£€æŸ¥ã€å€¼éªŒè¯ã€è¯­æ³•é”™è¯¯æç¤º

### ğŸ¨ å®Œç¾é›†æˆ

- **æ— ç¼å¯¹æ¥ Zotero**ï¼šç¬”è®°ç›´æ¥ä¿å­˜ä¸ºæ–‡çŒ®å­é¡¹
- **æ™ºèƒ½ PDF æœç´¢**ï¼šå¤šç§ç­–ç•¥è‡ªåŠ¨å®šä½ PDF æ–‡ä»¶
- **æ ‡ç­¾ç®¡ç†**ï¼šè‡ªåŠ¨æ·»åŠ å¤„ç†æ ‡è®°ï¼Œä¾¿äºç®¡ç†

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### ğŸ“– ç ”ç©¶ç”Ÿ/åšå£«ç”Ÿ

- **æ–‡çŒ®ç»¼è¿°**ï¼šå¿«é€Ÿç†è§£å¤§é‡ç›¸å…³è®ºæ–‡ï¼Œæå–å…³é”®ä¿¡æ¯
- **å¼€é¢˜å‡†å¤‡**ï¼šç³»ç»Ÿåˆ†æé¢†åŸŸç°çŠ¶ï¼Œå‘ç°ç ”ç©¶ç¼ºå£
- **è®ºæ–‡å†™ä½œ**ï¼šå¿«é€Ÿå›é¡¾å·²è¯»æ–‡çŒ®ï¼Œå¼•ç”¨å…³é”®è§‚ç‚¹
- **ä¸»é¢˜æ•´ç†**ï¼šåŒè½¨è‡ªåŠ¨åˆ†ç±»åˆ°å­¦ç§‘ + é—®é¢˜ä¸¤ä¸ªç»´åº¦

### ğŸ‘¨â€ğŸ« ç ”ç©¶äººå‘˜

- **é¢†åŸŸè¿½è¸ª**ï¼šå®šæœŸæ‰¹é‡åˆ†ææ–°å‘è¡¨çš„è®ºæ–‡
- **çµæ„Ÿæ¿€å‘**ï¼šé€šè¿‡ Idea Lab å‘ç°è®ºæ–‡ä¹‹é—´çš„å†…åœ¨è”ç³»
- **åŸºé‡‘ç”³è¯·**ï¼šç³»ç»Ÿæ¢³ç†ç›¸å…³ç ”ç©¶ï¼Œæ”¯æ’‘ç”³è¯·ææ–™
- **çŸ¥è¯†åº“æ„å»º**ï¼šè‡ªåŠ¨å»ºç«‹åŒè½¨æ¸…æ™°çš„æ–‡çŒ®çŸ¥è¯†åº“

### ğŸ“š å­¦æœ¯çˆ±å¥½è€…

- **çŸ¥è¯†ç®¡ç†**ï¼šå»ºç«‹ç»“æ„åŒ–çš„æ–‡çŒ®çŸ¥è¯†åº“
- **å¿«é€Ÿå­¦ä¹ **ï¼šé«˜æ•ˆç†è§£æ–°é¢†åŸŸçš„æ ¸å¿ƒè®ºæ–‡
- **ç¬”è®°æ•´ç†**ï¼šè‡ªåŠ¨ç”Ÿæˆæ ‡å‡†åŒ–ç¬”è®°ï¼Œä¾¿äºæ£€ç´¢

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
zotero-ai-reader/
â”œâ”€â”€ reader.py               # ğŸ¯ Step 1: AI è®ºæ–‡åˆ†æå·¥å…·
â”œâ”€â”€ profiler.py             # ğŸ‘¤ Step 2: ç ”ç©¶å“å‘³æå–å™¨ (NEW!)
â”œâ”€â”€ organizer.py            # ğŸ—‚ï¸ Step 3: åŒè½¨æ™ºèƒ½åˆ†ç±»å·¥å…· (MAIN!)
â”œâ”€â”€ tag_cleaner.py          # ğŸ§¹ æ ‡ç­¾æ¸…ç†å·¥å…·
â”œâ”€â”€ keyword_classifier.py   # ğŸ” å…³é”®è¯åˆ†ç±»åˆ†æå·¥å…·
â”œâ”€â”€ config_loader.py        # ğŸ”§ é…ç½®åŠ è½½å·¥å…·ï¼ˆäº¤äº’å¼é€‰æ‹©config.pyï¼‰
â”œâ”€â”€ prompt.md               # ğŸ“‹ AI åˆ†ææç¤ºè¯æ¨¡æ¿
â”œâ”€â”€ config.example.py       # âš™ï¸ é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼ˆâš ï¸ è¯·å¤åˆ¶ä¸º config.pyï¼‰
â”œâ”€â”€ config.py               # âš™ï¸ å®é™…é…ç½®æ–‡ä»¶ï¼ˆâš ï¸ åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä¸åœ¨Gitä¸­ï¼‰
â”œâ”€â”€ requirements.txt        # ğŸ“¦ ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ collections_cache.json  # ğŸ’¾ é›†åˆç¼“å­˜ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ user_profile.json       # ğŸ‘¤ ç”¨æˆ·ç”»åƒï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ keyword_analysis/       # ğŸ“Š å…³é”®è¯åˆ†æç»“æœç›®å½•
â”‚   â”œâ”€â”€ keyword_categories.json
â”‚   â”œâ”€â”€ keyword_statistics.json
â”‚   â”œâ”€â”€ keyword_top20.json
â”‚   â””â”€â”€ keyword_top20_analyzer.py
â””â”€â”€ README.md               # ğŸ“– æœ¬æ–‡ä»¶
```

---

## ğŸ¯ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### 1. `reader.py` - è®ºæ–‡åˆ†æå·¥å…· ğŸš€

**è¿™æ˜¯ç¬¬ä¸€æ­¥ï¼** å®ƒä¼šè‡ªåŠ¨åˆ†æä½ çš„ Zotero æ–‡çŒ®ã€‚

**å·¥ä½œæµç¨‹**ï¼š

```
ğŸ“¥ è¿æ¥ Zotero â†’ ğŸ” æŸ¥æ‰¾ PDF â†’ ğŸ“– æå–æ–‡æœ¬ â†’ ğŸ¤– AI åˆ†æ â†’ ğŸ’¾ ä¿å­˜ç¬”è®°
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š

- âœ… æ™ºèƒ½ PDF æœç´¢ï¼ˆæ”¯æŒå¤šç§åŒ¹é…ç­–ç•¥ï¼‰
- âœ… æ‰¹é‡å¤„ç†ï¼ˆæ”¯æŒé›†åˆç­›é€‰ã€ç±»å‹è¿‡æ»¤ï¼‰
- âœ… è‡ªåŠ¨å»é‡ï¼ˆé€šè¿‡æ ‡ç­¾è¯†åˆ«å·²å¤„ç†æ–‡çŒ®ï¼‰
- âœ… é”™è¯¯æ¢å¤ï¼ˆå®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼‰

**å¿«é€Ÿä¸Šæ‰‹**ï¼š

```bash
# 1. é…ç½® config.pyï¼ˆè§ä¸‹æ–¹ï¼‰
# 2. è¿è¡Œç¨‹åº
python reader.py
```

---

### 2. `profiler.py` - ç ”ç©¶å“å‘³æå–å™¨ ğŸ‘¤ (NEW!)

**ç¬¬äºŒæ­¥ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼** åˆ†æä½ çš„é˜…è¯»å†å²ï¼Œç”Ÿæˆä¸ªæ€§åŒ–ç”»åƒã€‚

**å·¥ä½œæµç¨‹**ï¼š

```
ğŸ“¥ è·å–æœ€è¿‘ 20 ç¯‡å·²è¯»æ–‡çŒ® â†’ ğŸ“ æå– AI ç¬”è®° â†’ ğŸ§  åˆ†æå“å‘³ â†’ ğŸ’¾ ä¿å­˜ç”»åƒ
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š

- âœ… **åŠ¨æ€å“å‘³è¯†åˆ«**ï¼šç†è§£ä½ å½“å‰çš„ç ”ç©¶å…³æ³¨ç‚¹
- âœ… **è¶‹åŠ¿å‘ç°**ï¼šè¯†åˆ«æ–°å…´å…´è¶£æ–¹å‘
- âœ… **ä¸ªæ€§åŒ–å»ºè®®**ï¼šåŸºäºå®é™…é˜…è¯»å†å²æ¨è Idea Lab åˆ†ç±»
- âœ… **æŒç»­è¿›åŒ–**ï¼šå®šæœŸæ›´æ–°ï¼Œåˆ†ç±»è¶Šç”¨è¶Šç²¾å‡†

**ç”Ÿæˆçš„ç”»åƒåŒ…å«**ï¼š

```json
{
  "base_info": {
    "name": "Prof. Chengming Li",
    "field": "Hydrology, Remote Sensing",
    "core_interests": ["ET", "Flash Drought", "DFA", "Deep Learning"]
  },
  "dynamic_analysis": {
    "summary": "å½“å‰å…³æ³¨ç‚¹æ€»ç»“...",
    "focus_areas": ["å…·ä½“ç ”ç©¶æ–¹å‘1", "æ–¹å‘2"],
    "idea_lab_suggestions": [...]
  }
}
```

**ä½¿ç”¨æ–¹æ³•**ï¼š

```bash
# åœ¨è¿è¡Œ organizer.py ä¹‹å‰ï¼Œå…ˆç”Ÿæˆç”»åƒ
python profiler.py
```

---

### 3. `organizer.py` - åŒè½¨æ™ºèƒ½åˆ†ç±»å·¥å…· ğŸ—‚ï¸ (MAIN!)

**ç¬¬ä¸‰æ­¥ï¼è¿™æ˜¯ä¸»åŠ›è„šæœ¬ï¼** è‡ªåŠ¨å°†è®ºæ–‡æ•´ç†åˆ°åŒè½¨é›†åˆç»“æ„ã€‚

**å·¥ä½œæµç¨‹**ï¼š

```
ğŸ“¥ è·å–å·²åˆ†ææ–‡çŒ® â†’ ğŸ“ æå–ç¬”è®°å…³é”®è¯ â†’ ğŸ‘¤ åŠ è½½ç”»åƒ â†’ ğŸ§  AI åŒè½¨åˆ†ç±» â†’ ğŸ—‚ï¸ åŒæ—¶æ·»åŠ åˆ°ä¸¤ä¸ªé›†åˆ
```

**æ ¸å¿ƒèƒ½åŠ›**ï¼š

- âœ… **åŒè½¨åˆ†ç±»**ï¼šä¸€ç¯‡è®ºæ–‡åŒæ—¶å½’å…¥ Archive + Idea Lab
- âœ… **ç”»åƒé©±åŠ¨**ï¼šè¯»å– user_profile.json å®šåˆ¶åˆ†ç±»é€»è¾‘
- âœ… **Token ä¼˜åŒ–**ï¼šæœ¬åœ°ç¼“å­˜ + ç²¾ç®€æç¤ºè¯ï¼ŒèŠ‚çœ API æˆæœ¬
- âœ… **æ‰¹é‡å¤„ç†**ï¼šä¸€æ¬¡å¤„ç†å¤šç¯‡è®ºæ–‡ï¼ˆé»˜è®¤ 5 ç¯‡/æ‰¹ï¼‰
- âœ… **æµ‹è¯•æ¨¡å¼**ï¼šDRY_RUN æ¨¡å¼å…ˆé¢„è§ˆå†æ‰§è¡Œ
- âœ… **è‡ªåŠ¨åˆ›å»º**ï¼šä¸å­˜åœ¨çš„é›†åˆè·¯å¾„è‡ªåŠ¨åˆ›å»º

**åŒè½¨åˆ†ç±»ä½“ç³»ç¤ºä¾‹**ï¼š

```
ğŸ“š Archive (å­¦ç§‘åˆ†ç±»)                ğŸ’¡ Idea Lab (é—®é¢˜é©±åŠ¨)
â”œâ”€â”€ Processes                        â”œâ”€â”€ Mechanism
â”‚   â”œâ”€â”€ Evapotranspiration (ET)     â”‚   â”œâ”€â”€ Abrupt Transitions/Phase Change
â”‚   â”œâ”€â”€ Runoff & Streamflow         â”‚   â”œâ”€â”€ Land-Atmosphere Coupling
â”‚   â””â”€â”€ Soil Moisture               â”‚   â””â”€â”€ Threshold Behavior
â”œâ”€â”€ Hazards                          â”œâ”€â”€ Data Philosophy
â”‚   â”œâ”€â”€ Drought/Flash Drought       â”‚   â”œâ”€â”€ Signal Purification/Uncertainty
â”‚   â”œâ”€â”€ Flood                        â”‚   â””â”€â”€ Scale Issues
â”‚   â””â”€â”€ Compound Events/DFA         â”œâ”€â”€ Modeling
â””â”€â”€ Methodology                      â”‚   â”œâ”€â”€ Physics-Informed AI
    â”œâ”€â”€ Remote Sensing/Retrieval    â”‚   â”œâ”€â”€ Causal Inference
    â”œâ”€â”€ Deep Learning (LSTM_CNN)    â”‚   â””â”€â”€ Hybrid Modeling
    â””â”€â”€ Triple Collocation           â””â”€â”€ Dynamics
                                         â”œâ”€â”€ Tipping Points
                                         â””â”€â”€ Drought-Flood Transitions
```

**ä½¿ç”¨æ–¹æ³•**ï¼š

```bash
# 1. å…ˆè¿è¡Œ reader.py åˆ†æè®ºæ–‡
python reader.py

# 2. (å¯é€‰) è¿è¡Œ profiler.py ç”Ÿæˆç”»åƒ
python profiler.py

# 3. è¿è¡Œ organizer.py åŒè½¨åˆ†ç±»
python organizer.py
```

**é‡è¦é…ç½®**ï¼š

```python
DRY_RUN = True              # æµ‹è¯•æ¨¡å¼ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨ï¼‰
BATCH_SIZE = 5              # æ¯æ‰¹å¤„ç†è®ºæ–‡æ•°
TARGET_COLLECTION_PATH = None  # æŒ‡å®šå¤„ç†æŸä¸ªé›†åˆï¼ˆå¦‚ "00_Inbox"ï¼‰
```

---

### 4. `tag_cleaner.py` - æ ‡ç­¾æ¸…ç†å·¥å…· ğŸ§¹

**æ–‡çŒ®åº“æ ‡ç­¾å¤ªå¤šå¤ªä¹±ï¼Ÿ** è¿™ä¸ªå·¥å…·å¸®ä½ ä¸€é”®æ¸…ç†ï¼

**åŠŸèƒ½**ï¼š

- ğŸ¯ æ‰¹é‡æ¸…ç†æ ‡ç­¾ï¼Œåªä¿ç•™é‡è¦æ ‡ç­¾
- ğŸ” æ”¯æŒæŒ‰æ–‡çŒ®ç±»å‹è¿‡æ»¤
- ğŸ“Š å®æ—¶æ˜¾ç¤ºæ¸…ç†è¿›åº¦å’Œç»Ÿè®¡

**ä½¿ç”¨æ–¹æ³•**ï¼š

```bash
python tag_cleaner.py
```

### 5. `keyword_classifier.py` - å…³é”®è¯åˆ†ç±»åˆ†æå·¥å…· ğŸ”

**ä»Zoteroåº“ä¸­æå–æ‰€æœ‰æ–‡çŒ®çš„AIç¬”è®°å…³é”®è¯ï¼Œè¿›è¡Œæ™ºèƒ½èšç±»å’Œåˆ†ç±»åˆ†æã€‚**

**åŠŸèƒ½**ï¼š

- âœ… è‡ªåŠ¨æ£€ç´¢æ‰€æœ‰æ–‡çŒ®çš„"AI æ·±åº¦é˜…è¯»æŠ¥å‘Š"ç¬”è®°
- âœ… æå–Keywordså…³é”®è¯éƒ¨åˆ†
- âœ… å…³é”®è¯å½’ä¸€åŒ–ï¼ˆå»é‡ã€åŒä¹‰è¯è¯†åˆ«ã€ç¼©å†™å±•å¼€ï¼‰
- âœ… åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦å’Œå…±ç°å…³ç³»çš„æ™ºèƒ½èšç±»
- âœ… æ”¯æŒå¤šæ ‡ç­¾åˆ†ç±»ï¼ˆä¸€ä¸ªå…³é”®è¯å¯å±äºå¤šä¸ªç±»ç›®ï¼‰
- âœ… ç”Ÿæˆå±‚æ¬¡åŒ–åˆ†ç±»ç»“æ„å’Œç»Ÿè®¡æŠ¥å‘Š

**ä½¿ç”¨æ–¹æ³•**ï¼š

```bash
python keyword_classifier.py
```

**è¾“å‡ºæ–‡ä»¶**ï¼ˆä¿å­˜åœ¨ `keyword_analysis/` ç›®å½•ï¼‰ï¼š
- `keyword_categories.json` - JSONæ ¼å¼çš„åˆ†ç±»ç»“æœ
- `keyword_report.txt` - æ–‡æœ¬æ ¼å¼çš„è¯¦ç»†æŠ¥å‘Š
- `keyword_statistics.json` - ç»Ÿè®¡ä¿¡æ¯

### 6. `keyword_top20_analyzer.py` - å…³é”®è¯Top20åˆ†æå·¥å…· ğŸ“Š

**ä»å…³é”®è¯åˆ†ç±»ç»“æœä¸­æå–Top20å…³é”®è¯ï¼Œä½¿ç”¨Gemini AIè¿›è¡Œæ™ºèƒ½åˆå¹¶å’Œè§„èŒƒåŒ–ã€‚**

**åŠŸèƒ½**ï¼š

- âœ… æå–å¹¶æ‹†åˆ†å…³é”®è¯
- âœ… ç»Ÿè®¡é¢‘æ¬¡
- âœ… ä½¿ç”¨Geminiè¯†åˆ«åŒä¹‰è¯å¹¶åˆå¹¶
- âœ… ç”ŸæˆTop20å…³é”®è¯æŠ¥å‘Š

**ä½¿ç”¨æ–¹æ³•**ï¼š

```bash
cd keyword_analysis
python keyword_top20_analyzer.py
```

**è¾“å‡ºæ–‡ä»¶**ï¼š
- `keyword_top20.json` - JSONæ ¼å¼çš„Top20å…³é”®è¯
- `keyword_top20_report.txt` - æ–‡æœ¬æ ¼å¼çš„æŠ¥å‘Š

### 7. `config_loader.py` - é…ç½®åŠ è½½å·¥å…· ğŸ”§

**æ‰€æœ‰è„šæœ¬çš„ç»Ÿä¸€é…ç½®åŠ è½½æ¨¡å—ï¼Œæä¾›çµæ´»çš„é…ç½®æ–‡ä»¶é€‰æ‹©æœºåˆ¶ã€‚**

**åŠŸèƒ½**ï¼š

- âœ… æ”¯æŒå‘½ä»¤è¡Œå‚æ•°æŒ‡å®šé…ç½®æ–‡ä»¶ï¼š`--config /path/to/config.py`
- âœ… äº¤äº’å¼é€‰æ‹©ç•Œé¢ï¼ˆ4ç§æ–¹å¼ï¼‰
- âœ… è‡ªåŠ¨æœç´¢é…ç½®æ–‡ä»¶ï¼ˆå½“å‰ç›®å½•ã€è„šæœ¬ç›®å½•ã€é¡¹ç›®æ ¹ç›®å½•ï¼‰
- âœ… GUIæ–‡ä»¶æµè§ˆå™¨é€‰æ‹©ï¼ˆéœ€è¦tkinteræ”¯æŒï¼‰

**ç”¨æˆ·é€šå¸¸ä¸éœ€è¦ç›´æ¥ä½¿ç”¨**ï¼Œæ‰€æœ‰è„šæœ¬éƒ½ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤æ¨¡å—åŠ è½½é…ç½®ã€‚

**äº¤äº’å¼é€‰æ‹©é€‰é¡¹**ï¼š
1. ä½¿ç”¨å»ºè®®ä½ç½®ï¼ˆå¦‚æœè‡ªåŠ¨æ‰¾åˆ°config.pyï¼‰
2. æ‰‹åŠ¨è¾“å…¥config.pyçš„å®Œæ•´è·¯å¾„
3. ä½¿ç”¨GUIæ–‡ä»¶æµè§ˆå™¨é€‰æ‹©
4. è‡ªåŠ¨æœç´¢é…ç½®æ–‡ä»¶

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ å‰ç½®è¦æ±‚

- ğŸ Python 3.7+
- ğŸ“š Zotero è´¦æˆ·ï¼ˆå…è´¹æ³¨å†Œï¼šhttps://www.zotero.org/ï¼‰
- ğŸ¤– Google Gemini API Keyï¼ˆå…è´¹è·å–ï¼šhttps://makersuite.google.com/app/apikeyï¼‰

### âš¡ 5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

#### 1ï¸âƒ£ å…‹éš†ä»“åº“

```bash
git clone https://github.com/yourusername/zotero-ai-reader.git
cd zotero-ai-reader
```

#### 2ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

#### 3ï¸âƒ£ é…ç½®å¯†é’¥

```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp config.example.py config.py

# ç¼–è¾‘ config.pyï¼Œå¡«å…¥ä½ çš„ API å¯†é’¥
# éœ€è¦é…ç½®ï¼š
# - Zotero Library ID å’Œ API Key
# - Gemini API Key
# - PDF å­˜å‚¨è·¯å¾„
```

**ğŸ’¡ æç¤º**ï¼šè¿è¡Œè„šæœ¬æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°config.pyæ–‡ä»¶ï¼Œä¼šå¼¹å‡ºäº¤äº’å¼é€‰æ‹©ç•Œé¢ï¼Œä½ å¯ä»¥ï¼š
- é€‰æ‹©è‡ªåŠ¨æœç´¢ï¼ˆåœ¨å½“å‰ç›®å½•æˆ–é¡¹ç›®æ ¹ç›®å½•æŸ¥æ‰¾ï¼‰
- æ‰‹åŠ¨è¾“å…¥config.pyçš„è·¯å¾„
- ä½¿ç”¨GUIæ–‡ä»¶æµè§ˆå™¨é€‰æ‹©
- ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ï¼š`python reader.py --config /path/to/config.py`

#### 4ï¸âƒ£ è¿è¡Œå®Œæ•´å·¥ä½œæµ

```bash
# Step 1: åˆ†æè®ºæ–‡ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨æµ‹è¯•æ¨¡å¼ï¼‰
# åœ¨ config.py ä¸­è®¾ç½®ï¼šTEST_MODE = True, TEST_LIMIT = 3
python reader.py

# Step 2: ç”Ÿæˆç ”ç©¶å“å‘³ç”»åƒ
python profiler.py

# Step 3: åŒè½¨è‡ªåŠ¨åˆ†ç±»ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨ DRY_RUN æ¨¡å¼ï¼‰
# åœ¨ organizer.py ä¸­ç¡®ä¿ï¼šDRY_RUN = True
python organizer.py

# Step 4: æ£€æŸ¥ç»“æœæ— è¯¯åï¼Œå…³é—­æµ‹è¯•æ¨¡å¼é‡æ–°è¿è¡Œ
# config.py: TEST_MODE = False
# organizer.py: DRY_RUN = False
python reader.py
python profiler.py
python organizer.py
```

**ğŸ‰ å®Œæˆï¼** ä½ çš„è®ºæ–‡å·²ç»è¢« AI åˆ†æå¹¶è‡ªåŠ¨åˆ†ç±»åˆ°åŒè½¨ç»“æ„äº†ï¼

---

## âš™ï¸ é…ç½®è¯´æ˜

### ğŸ” å®‰å…¨é…ç½®ï¼ˆé‡è¦ï¼ï¼‰

**âš ï¸ æ‰€æœ‰è„šæœ¬éƒ½ç»Ÿä¸€ä» `config.py` æ–‡ä»¶è¯»å–APIå¯†é’¥ï¼Œè¯·å‹¿åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥ï¼**

ä¸ºäº†ä¿æŠ¤ä½ çš„ API å¯†é’¥ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†é…ç½®æ–‡ä»¶åˆ†ç¦»æœºåˆ¶å’Œäº¤äº’å¼é…ç½®é€‰æ‹©ï¼š

1. **å¤åˆ¶æ¨¡æ¿**ï¼š

   ```bash
   cp config.example.py config.py
   ```

2. **ç¼–è¾‘é…ç½®**ï¼š
   æ‰“å¼€ `config.py`ï¼Œå¡«å…¥ä½ çš„çœŸå®é…ç½®ï¼š

   ```python
   # --- Zotero è®¾ç½® ---
   LIBRARY_ID = 'ä½ çš„åº“ID'                    # åœ¨ Zotero è®¾ç½®é¡µé¢è·å–
   API_KEY = 'ä½ çš„Zotero_APIå¯†é’¥'             # éœ€è¦è¯»å†™æƒé™
   LIBRARY_TYPE = 'user'                      # 'user' æˆ– 'group'
   ZOTERO_STORAGE_PATH = r'ä½ çš„PDFå­˜å‚¨è·¯å¾„'
   
   # --- AI æ¨¡å‹è®¾ç½® (Gemini) ---
   AI_API_KEY = 'ä½ çš„Gemini_APIå¯†é’¥'          # åœ¨ Google AI Studio è·å–
   AI_MODEL = 'gemini-2.5-flash-lite'         # å¯é€‰æ¨¡å‹
   ```

3. **è¿è¡Œè„šæœ¬æ—¶çš„é…ç½®é€‰æ‹©**ï¼š

   å½“ä½ è¿è¡Œä»»ä½•è„šæœ¬æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°config.pyï¼Œä¼šå¼¹å‡º**äº¤äº’å¼é€‰æ‹©ç•Œé¢**ï¼š

   ```bash
   python reader.py
   # æˆ–æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„
   python reader.py --config /path/to/config.py
   ```

   **äº¤äº’å¼ç•Œé¢æä¾›ä»¥ä¸‹é€‰é¡¹**ï¼š
   - **é€‰é¡¹1**ï¼šä½¿ç”¨å»ºè®®ä½ç½®ï¼ˆå¦‚æœè‡ªåŠ¨æ‰¾åˆ°config.pyï¼‰
   - **é€‰é¡¹2**ï¼šæ‰‹åŠ¨è¾“å…¥config.pyçš„å®Œæ•´è·¯å¾„
   - **é€‰é¡¹3**ï¼šä½¿ç”¨GUIæ–‡ä»¶æµè§ˆå™¨é€‰æ‹©ï¼ˆéœ€è¦tkinteræ”¯æŒï¼‰
   - **é€‰é¡¹4**ï¼šè‡ªåŠ¨æœç´¢ï¼ˆåœ¨å½“å‰ç›®å½•ã€è„šæœ¬ç›®å½•ã€é¡¹ç›®æ ¹ç›®å½•ä¸­æœç´¢ï¼‰

4. **è‡ªåŠ¨ä¿æŠ¤**ï¼š

   - âœ… `config.py` å·²åœ¨ `.gitignore` ä¸­
   - âœ… ä¸ä¼šè¢«æäº¤åˆ° Git
   - âœ… æ‰€æœ‰è„šæœ¬ç»Ÿä¸€ä» `config.py` è¯»å–é…ç½®
   - âœ… ä»£ç ä¸­ä¸ä¼šç¡¬ç¼–ç ä»»ä½•çœŸå®å¯†é’¥
   - âœ… æ”¯æŒçµæ´»æŒ‡å®šé…ç½®æ–‡ä»¶ä½ç½®
   - âœ… ä½ çš„å¯†é’¥å®‰å…¨æ— å¿§

5. **é…ç½®ä½¿ç”¨è¯´æ˜**ï¼š

   - **æ‰€æœ‰è„šæœ¬**ï¼ˆ`reader.py`, `profiler.py`, `organizer.py`, `tag_cleaner.py`, `keyword_classifier.py`, `keyword_top20_analyzer.py`ï¼‰éƒ½ä½¿ç”¨ `config_loader.py` ç»Ÿä¸€åŠ è½½é…ç½®
   - æ”¯æŒå‘½ä»¤è¡Œå‚æ•°ï¼š`--config /path/to/config.py`
   - æ”¯æŒäº¤äº’å¼é€‰æ‹©é…ç½®æ–‡ä»¶ä½ç½®
   - å¦‚æœæœªæ‰¾åˆ° `config.py`ï¼Œè„šæœ¬ä¼šæç¤ºäº¤äº’å¼é€‰æ‹©æˆ–é€€å‡º
   - ä¸è¦å°† `config.py` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ

### ğŸ“ é…ç½®é¡¹è¯´æ˜

| é…ç½®é¡¹                     | è¯´æ˜             | ç¤ºä¾‹                                                             |
| -------------------------- | ---------------- | ---------------------------------------------------------------- |
| `LIBRARY_ID`             | Zotero åº“ ID     | `'4084102'`                                                    |
| `API_KEY`                | Zotero API å¯†é’¥  | åœ¨[Zotero è®¾ç½®](https://www.zotero.org/settings/keys) è·å–          |
| `AI_API_KEY`             | Gemini API å¯†é’¥  | åœ¨[Google AI Studio](https://makersuite.google.com/app/apikey) è·å– |
| `ZOTERO_STORAGE_PATH`    | PDF å­˜å‚¨è·¯å¾„     | `r'C:\Users\Name\Zotero\storage'`                              |
| `TARGET_COLLECTION_PATH` | ç›®æ ‡é›†åˆï¼ˆå¯é€‰ï¼‰ | `"0 2025/12"` æˆ– `None`                                      |
| `TEST_MODE`              | æµ‹è¯•æ¨¡å¼         | `True` / `False`                                             |

### ğŸ—‚ï¸ è‡ªå®šä¹‰åŒè½¨åˆ†ç±»ä½“ç³»

åœ¨ `organizer.py` ä¸­ä¿®æ”¹ `PREFERRED_TAXONOMY` å˜é‡ï¼Œè‡ªå®šä¹‰ä½ çš„åˆ†ç±»é€»è¾‘ï¼š

```python
PREFERRED_TAXONOMY = {
    "Track_A_Archive": {
        "description": "Standard disciplinary classification",
        "emoji": "ğŸ“š",
        "structure": {
            "Processes": ["ET", "Runoff", ...],
            "Hazards": ["Drought", "Flood", ...],
            "Methodology": ["Remote Sensing", "Deep Learning", ...]
        }
    },
    "Track_B_Idea_Lab": {
        "description": "Question-driven classification",
        "emoji": "ğŸ’¡",
        "structure": {
            "Mechanism": ["Abrupt Transitions", ...],
            "Data Philosophy": ["Signal Purification", ...],
            "Modeling": ["Physics-Informed AI", ...]
        }
    }
}
```

**ğŸ’¡ æç¤º**ï¼šè¿è¡Œ `profiler.py` åï¼Œå®ƒä¼šåŸºäºä½ çš„é˜…è¯»å†å²ç»™å‡ºä¸ªæ€§åŒ–çš„ Idea Lab å»ºè®®ï¼

---

## ğŸ”§ ä½¿ç”¨æŠ€å·§

### ğŸ’¡ å®Œæ•´å·¥ä½œæµç¨‹

#### ğŸ“ åœºæ™¯ï¼šæ‰¹é‡å¤„ç† 50 ç¯‡æ–°ä¸‹è½½çš„è®ºæ–‡

**Step 1: åˆ†æè®ºæ–‡**

```bash
# 1. é…ç½®é›†åˆè·¯å¾„
TARGET_COLLECTION_PATH = "00_Inbox"

# 2. å¼€å¯æµ‹è¯•æ¨¡å¼ï¼ˆå…ˆæµ‹è¯• 3 ç¯‡ï¼‰
TEST_MODE = True
TEST_LIMIT = 3

# 3. è¿è¡Œç¨‹åº
python reader.py

# 4. æ£€æŸ¥ç»“æœï¼Œç¡®è®¤æ— è¯¯åå…³é—­æµ‹è¯•æ¨¡å¼
TEST_MODE = False

# 5. å†æ¬¡è¿è¡Œï¼Œå¤„ç†å…¨éƒ¨æ–‡çŒ®
python reader.py
```

**Step 2: ç”Ÿæˆç ”ç©¶ç”»åƒ**

```bash
# åŸºäºå·²åˆ†æçš„è®ºæ–‡ç”Ÿæˆç”»åƒ
python profiler.py
```

**Step 3: åŒè½¨åˆ†ç±»**

```bash
# 1. åœ¨ organizer.py ä¸­è®¾ç½®
DRY_RUN = True  # æµ‹è¯•æ¨¡å¼
TARGET_COLLECTION_PATH = "00_Inbox"  # å¤„ç†åŒä¸€ä¸ªé›†åˆ

# 2. è¿è¡Œåˆ†ç±»ï¼ˆé¢„è§ˆï¼‰
python organizer.py

# 3. æŸ¥çœ‹é¢„è§ˆç»“æœï¼Œç¡®è®¤æ— è¯¯å
DRY_RUN = False

# 4. æ­£å¼åˆ†ç±»
python organizer.py
```

**é¢„æœŸç»“æœ**ï¼š
- âœ… 50 ç¯‡è®ºæ–‡å…¨éƒ¨åˆ†æå®Œæˆï¼Œæ¯ç¯‡éƒ½æœ‰è¯¦ç»†ç¬”è®°
- âœ… ç”Ÿæˆä¸ªæ€§åŒ–ç ”ç©¶ç”»åƒ
- âœ… æ¯ç¯‡è®ºæ–‡åŒæ—¶å½’å…¥ä¸¤ä¸ªé›†åˆï¼š
  - ğŸ“š Archive: å¦‚ "Archive/Hazards/Flash Drought"
  - ğŸ’¡ Idea Lab: å¦‚ "Idea Lab/Mechanism/Abrupt Transitions"
- âœ… æ‰€æœ‰æ–‡çŒ®æ ‡è®° `gemini_read` å’Œ `auto_organized` æ ‡ç­¾

---

### ğŸ§ª æµ‹è¯•æ¨¡å¼

#### reader.py æµ‹è¯•

é¦–æ¬¡ä½¿ç”¨å»ºè®®å¼€å¯æµ‹è¯•æ¨¡å¼ï¼š

```python
TEST_MODE = True
TEST_LIMIT = 3  # åªå¤„ç†å‰ 3 ç¯‡
```

#### organizer.py æµ‹è¯•

ä½¿ç”¨ DRY_RUN æ¨¡å¼é¢„è§ˆåˆ†ç±»ç»“æœï¼š

```python
DRY_RUN = True  # ä¸ä¼šçœŸçš„ç§»åŠ¨æ–‡çŒ®ï¼Œåªæ˜¾ç¤ºå°†è¦æ‰§è¡Œçš„æ“ä½œ
```

---

### ğŸ”„ é‡æ–°å¤„ç†

**é‡æ–°åˆ†ææŸç¯‡æ–‡çŒ®**ï¼š

1. åœ¨ Zotero ä¸­åˆ é™¤è¯¥æ–‡çŒ®çš„ `gemini_read` æ ‡ç­¾
2. é‡æ–°è¿è¡Œ `reader.py`

**é‡æ–°åˆ†ç±»æŸç¯‡æ–‡çŒ®**ï¼š

1. åœ¨ Zotero ä¸­åˆ é™¤è¯¥æ–‡çŒ®çš„ `auto_organized` æ ‡ç­¾
2. é‡æ–°è¿è¡Œ `organizer.py`

**æ›´æ–°ç ”ç©¶ç”»åƒ**ï¼š

```bash
# å®šæœŸè¿è¡Œä»¥ä¿æŒç”»åƒæœ€æ–°
python profiler.py
```

---

### ğŸ’¾ æ¸…é™¤ç¼“å­˜

å¦‚æœé›†åˆç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œåˆ é™¤ç¼“å­˜æ–‡ä»¶ï¼š

```bash
rm collections_cache.json
```

ä¸‹æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨é‡å»ºç¼“å­˜ã€‚

---

## ğŸ“Š å·¥ä½œæµç¨‹å›¾

### å®Œæ•´ä¸‰æ­¥å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. è¿è¡Œ reader.py                                        â”‚
â”‚     - è‡ªåŠ¨è¯»å– PDF å†…å®¹                                    â”‚
â”‚     - AI ç”Ÿæˆç»“æ„åŒ–ç¬”è®°                                    â”‚
â”‚     - ä¿å­˜åˆ° Zoteroï¼Œæ·»åŠ  gemini_read æ ‡ç­¾                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. è¿è¡Œ profiler.py (å¯é€‰ä½†æ¨è)                          â”‚
â”‚     - è¯»å–æœ€è¿‘ 20 ç¯‡å·²åˆ†æè®ºæ–‡çš„ç¬”è®°                        â”‚
â”‚     - AI åˆ†æç ”ç©¶å“å‘³å’Œå½“å‰å…³æ³¨ç‚¹                           â”‚
â”‚     - ç”Ÿæˆ user_profile.json                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. è¿è¡Œ organizer.py                                     â”‚
â”‚     - åŠ è½½ç”¨æˆ·ç”»åƒ (user_profile.json)                     â”‚
â”‚     - æå–ç¬”è®°ä¸­çš„å…³é”®è¯                                   â”‚
â”‚     - AI åŒè½¨æ™ºèƒ½åˆ†ç±»                                      â”‚
â”‚     - åŒæ—¶æ·»åŠ åˆ° Archive + Idea Lab é›†åˆ                   â”‚
â”‚     - æ·»åŠ  auto_organized æ ‡ç­¾                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. åœ¨ Zotero ä¸­æŸ¥çœ‹                                      â”‚
â”‚     - è®ºæ–‡æŒ‰åŒè½¨åˆ†ç±»ï¼ˆå­¦ç§‘ + é—®é¢˜ï¼‰                        â”‚
â”‚     - æ¯ç¯‡éƒ½æœ‰ AI ç¬”è®°                                    â”‚
â”‚     - æ—¢å¯æŒ‰ä¼ ç»Ÿæ–¹å¼æ£€ç´¢ï¼Œåˆèƒ½æŒ‰çµæ„Ÿæ¢ç´¢                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### ğŸ”’ API å¯†é’¥å®‰å…¨ï¼ˆé‡è¦ï¼ï¼‰

**âš ï¸ å®‰å…¨æç¤º**ï¼š

- âœ… **æ‰€æœ‰è„šæœ¬ç»Ÿä¸€ä» `config.py` è¯»å–APIå¯†é’¥**ï¼Œä»£ç ä¸­ä¸ä¼šç¡¬ç¼–ç çœŸå®å¯†é’¥
- âœ… `config.py` æ–‡ä»¶å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- âœ… è¯·å‹¿åœ¨ä»£ç æ–‡ä»¶ä¸­ç›´æ¥å†™å…¥APIå¯†é’¥
- âœ… è¯·å‹¿å°† `config.py` æ–‡ä»¶åˆ†äº«ç»™ä»–äººæˆ–æäº¤åˆ°å…¬å¼€ä»“åº“
- âš ï¸ å¦‚æœ `config.py` ä¸å­˜åœ¨ï¼Œéƒ¨åˆ†è„šæœ¬ä¼šä½¿ç”¨å ä½ç¬¦å¹¶é€€å‡ºï¼Œè¿™æ˜¯å®‰å…¨çš„è¡Œä¸º

**å¦‚ä½•æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ³„æ¼**ï¼š

```bash
# æœç´¢ä»£ç ä¸­æ˜¯å¦åŒ…å«çœŸå®APIå¯†é’¥ï¼ˆæ›¿æ¢ä¸ºä½ çš„å®é™…å¯†é’¥ï¼‰
grep -r "ä½ çš„Zotero_APIå¯†é’¥" --include="*.py" .
grep -r "ä½ çš„Gemini_APIå¯†é’¥" --include="*.py" .

# æœç´¢å¸¸è§çš„APIå¯†é’¥æ¨¡å¼ï¼ˆåº”è¯¥åªæœ‰config.pyåŒ…å«ï¼Œä¸”config.pyåœ¨.gitignoreä¸­ï¼‰
grep -r "API_KEY.*=" --include="*.py" . | grep -v "config" | grep -v "YOUR_"
```

### ğŸ”’ API é™åˆ¶

- **Zotero API**ï¼šæœ‰é¢‘ç‡é™åˆ¶ï¼Œç¨‹åºå·²å†…ç½®å»¶è¿Ÿæœºåˆ¶ï¼ˆ0.5-2 ç§’ï¼‰
- **Gemini API**ï¼šæœ‰è°ƒç”¨æ¬¡æ•°å’Œ Token é™åˆ¶ï¼Œæ³¨æ„æ§åˆ¶ä½¿ç”¨é‡
- ğŸ’¡ **å»ºè®®**ï¼šå¤§æ‰¹é‡å¤„ç†æ—¶ï¼Œå¯ä»¥åˆ†æ‰¹è¿›è¡Œ

### ğŸ’° æˆæœ¬ä¼˜åŒ–

`organizer.py` å·²åšä»¥ä¸‹ä¼˜åŒ–ä»¥é™ä½ API æˆæœ¬ï¼š

- âœ… **æœ¬åœ°ç¼“å­˜**ï¼šé›†åˆ ID ç¼“å­˜åˆ°æœ¬åœ°ï¼Œå‡å°‘ Zotero API è°ƒç”¨
- âœ… **ç²¾ç®€æç¤ºè¯**ï¼šåªå‘é€åˆ†ç±»ä½“ç³»ï¼Œä¸å‘é€æ‰€æœ‰å·²æœ‰é›†åˆï¼ˆèŠ‚çœ 60% Tokenï¼‰
- âœ… **æ‰¹é‡å¤„ç†**ï¼šä¸€æ¬¡åˆ†ç±»å¤šç¯‡è®ºæ–‡ï¼ˆé»˜è®¤ 5 ç¯‡ï¼‰ï¼Œå‡å°‘ API è°ƒç”¨æ¬¡æ•°
- âœ… **æ™ºèƒ½ç”»åƒ**ï¼šç”¨æˆ·ç”»åƒä»…éœ€å®šæœŸæ›´æ–°ï¼ˆå¦‚æ¯å‘¨ä¸€æ¬¡ï¼‰ï¼Œæ— éœ€æ¯æ¬¡è¿è¡Œ

### ğŸ“ PDF è·¯å¾„

- ç¡®ä¿ `ZOTERO_STORAGE_PATH` è·¯å¾„æ­£ç¡®
- å¦‚æœ PDF ä¸åœ¨æ ‡å‡†ä½ç½®ï¼Œç¨‹åºä¼šå°è¯•æ™ºèƒ½æœç´¢
- ğŸ’¡ **æç¤º**ï¼šç¨‹åºæ”¯æŒå¤šç§ PDF æœç´¢ç­–ç•¥ï¼Œé€šå¸¸èƒ½æ‰¾åˆ°æ–‡ä»¶

### ğŸ·ï¸ æ ‡ç­¾ç®¡ç†

- å·²åˆ†æçš„æ–‡çŒ®ä¼šè‡ªåŠ¨æ·»åŠ  `gemini_read` æ ‡ç­¾
- å·²åˆ†ç±»çš„æ–‡çŒ®ä¼šè‡ªåŠ¨æ·»åŠ  `auto_organized` æ ‡ç­¾
- ğŸ’¡ **æŠ€å·§**ï¼šåˆ é™¤æ ‡ç­¾å¯ä»¥é‡æ–°å¤„ç†

---

## ğŸ›¡ï¸ é”™è¯¯å¤„ç†è¯¦è§£ / Error Handling Details

æœ¬é¡¹ç›®å®ç°äº†ä¼ä¸šçº§çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿ç¨‹åºåœ¨å„ç§å¼‚å¸¸æƒ…å†µä¸‹éƒ½èƒ½ç¨³å®šè¿è¡Œã€‚

This project implements enterprise-grade error handling to ensure stable operation under various exceptional conditions.

### ğŸ“‹ é”™è¯¯å¤„ç†ç‰¹æ€§ / Error Handling Features

#### 1. **PDF æ–‡ä»¶å¤„ç† / PDF File Processing** (`reader.py::get_pdf_content`)

**ä¸­æ–‡è¯´æ˜**ï¼š
- âœ… **æ–‡ä»¶éªŒè¯**ï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€å¯è¯»ã€éç©ºã€å¤§å°åˆç†
- âœ… **æ ¼å¼æ£€æŸ¥**ï¼šéªŒè¯ PDF æ ¼å¼æ˜¯å¦æ­£ç¡®ã€æ˜¯å¦æŸå
- âœ… **é¡µé¢éªŒè¯**ï¼šæ£€æŸ¥ PDF æ˜¯å¦æœ‰é¡µé¢ã€é¡µæ•°æ˜¯å¦æ­£å¸¸
- âœ… **å†…å®¹éªŒè¯**ï¼šç¡®ä¿æå–çš„æ–‡æœ¬å†…å®¹æœ‰æ„ä¹‰ï¼ˆè‡³å°‘ 50 å­—ç¬¦ï¼‰
- âœ… **ä¼˜é›…é™çº§**ï¼šå•é¡µè¯»å–å¤±è´¥æ—¶ç»§ç»­å¤„ç†å…¶ä»–é¡µé¢
- âœ… **èµ„æºæ¸…ç†**ï¼šç¡®ä¿ PDF æ–‡æ¡£åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½èƒ½æ­£ç¡®å…³é—­

**English**:
- âœ… **File Validation**: Check if file exists, readable, non-empty, reasonable size
- âœ… **Format Check**: Verify PDF format is correct and not corrupted
- âœ… **Page Validation**: Check if PDF has pages and page count is normal
- âœ… **Content Validation**: Ensure extracted text is meaningful (at least 50 characters)
- âœ… **Graceful Degradation**: Continue processing other pages when single page fails
- âœ… **Resource Cleanup**: Ensure PDF document is properly closed in all cases

#### 2. **API å“åº”éªŒè¯ / API Response Validation** (`reader.py`, `organizer.py`, `profiler.py`)

**ä¸­æ–‡è¯´æ˜**ï¼š
- âœ… **å“åº”å­˜åœ¨æ€§æ£€æŸ¥**ï¼šéªŒè¯ API æ˜¯å¦è¿”å›äº†æ•°æ®
- âœ… **ç»“æ„éªŒè¯**ï¼šæ£€æŸ¥è¿”å›æ•°æ®æ˜¯å¦åŒ…å«å¿…éœ€çš„å­—æ®µ
- âœ… **ç±»å‹éªŒè¯**ï¼šç¡®ä¿æ¯ä¸ªå­—æ®µçš„æ•°æ®ç±»å‹æ­£ç¡®
- âœ… **åµŒå¥—éªŒè¯**ï¼šåœ¨è®¿é—®åµŒå¥—å­—æ®µå‰éªŒè¯çˆ¶å­—æ®µå­˜åœ¨
- âœ… **é”™è¯¯åˆ†ç±»**ï¼šåŒºåˆ† 400/403/404/timeout ç­‰ä¸åŒé”™è¯¯ç±»å‹
- âœ… **è¯¦ç»†æç¤º**ï¼šæä¾›å…·ä½“çš„é”™è¯¯ä¿¡æ¯å’Œå»ºè®®è§£å†³æ–¹æ¡ˆ

**English**:
- âœ… **Response Existence Check**: Verify API returned data
- âœ… **Structure Validation**: Check if returned data contains required fields
- âœ… **Type Validation**: Ensure each field has correct data type
- âœ… **Nested Validation**: Validate parent fields exist before accessing nested fields
- âœ… **Error Classification**: Distinguish different error types (400/403/404/timeout)
- âœ… **Detailed Messages**: Provide specific error info and suggested solutions

#### 3. **æ™ºèƒ½é‡è¯•æœºåˆ¶ / Intelligent Retry Mechanism** (`keyword_classifier.py::fetch_items_with_retry`)

**ä¸­æ–‡è¯´æ˜**ï¼š
- âœ… **æš‚æ—¶æ€§é”™è¯¯è¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«å¯é‡è¯•çš„é”™è¯¯ï¼ˆ502/503/504/è¶…æ—¶/è¿æ¥é”™è¯¯/é€Ÿç‡é™åˆ¶ï¼‰
- âœ… **æŒ‡æ•°é€€é¿**ï¼šé‡è¯•é—´éš”é€’å¢ï¼ˆ2s â†’ 4s â†’ 8sï¼‰é¿å…è¿‡åº¦è¯·æ±‚
- âœ… **æ°¸ä¹…æ€§é”™è¯¯è¯†åˆ«**ï¼šç«‹å³å¤±è´¥çš„é”™è¯¯ï¼ˆæƒé™ä¸è¶³/èµ„æºæœªæ‰¾åˆ°/å‚æ•°é”™è¯¯ï¼‰
- âœ… **æ¸…æ™°çš„é”™è¯¯æç¤º**ï¼šåŒºåˆ†ä¸åŒé”™è¯¯ç±»å‹ï¼Œæä¾›é’ˆå¯¹æ€§å»ºè®®

**English**:
- âœ… **Transient Error Detection**: Auto-detect retryable errors (502/503/504/timeout/connection/rate limit)
- âœ… **Exponential Backoff**: Increasing retry intervals (2s â†’ 4s â†’ 8s) to avoid excessive requests
- âœ… **Permanent Error Detection**: Immediately fail on non-retryable errors (forbidden/not found/bad request)
- âœ… **Clear Error Messages**: Distinguish error types with targeted suggestions

#### 4. **JSON æ•°æ®éªŒè¯ / JSON Data Validation** (`organizer.py`, `profiler.py`)

**ä¸­æ–‡è¯´æ˜**ï¼š
- âœ… **JSON è§£æéªŒè¯**ï¼šæ•è· JSON æ ¼å¼é”™è¯¯å¹¶æä¾›è¯¦ç»†æç¤º
- âœ… **Schema éªŒè¯**ï¼šæ£€æŸ¥å¿…éœ€å­—æ®µæ˜¯å¦å­˜åœ¨
- âœ… **å­—æ®µç±»å‹æ£€æŸ¥**ï¼šéªŒè¯æ¯ä¸ªå­—æ®µçš„æ•°æ®ç±»å‹
- âœ… **é»˜è®¤å€¼å›é€€**ï¼šç¼ºå¤±æˆ–é”™è¯¯çš„å­—æ®µä½¿ç”¨å®‰å…¨çš„é»˜è®¤å€¼
- âœ… **åµŒå¥—ç»“æ„éªŒè¯**ï¼šé€å±‚éªŒè¯å¤æ‚çš„åµŒå¥—æ•°æ®ç»“æ„

**English**:
- âœ… **JSON Parsing Validation**: Catch JSON format errors with detailed hints
- âœ… **Schema Validation**: Check if required fields exist
- âœ… **Field Type Checking**: Verify data type of each field
- âœ… **Default Value Fallback**: Use safe defaults for missing/invalid fields
- âœ… **Nested Structure Validation**: Layer-by-layer validation of complex nested structures

#### 5. **é…ç½®æ–‡ä»¶éªŒè¯ / Configuration Validation** (`config_loader.py::load_config`)

**ä¸­æ–‡è¯´æ˜**ï¼š
- âœ… **å¿…éœ€å±æ€§æ£€æŸ¥**ï¼šéªŒè¯ LIBRARY_IDã€API_KEY ç­‰å¿…éœ€é…ç½®æ˜¯å¦å­˜åœ¨
- âœ… **å€¼æœ‰æ•ˆæ€§æ£€æŸ¥**ï¼šç¡®ä¿é…ç½®å€¼éç©ºä¸”æ ¼å¼æ­£ç¡®
- âœ… **ç±»å‹éªŒè¯**ï¼šéªŒè¯ LIBRARY_TYPE ç­‰å­—æ®µçš„å€¼åœ¨å…è®¸èŒƒå›´å†…
- âœ… **è¯­æ³•é”™è¯¯æç¤º**ï¼šé…ç½®æ–‡ä»¶è¯­æ³•é”™è¯¯æ—¶æä¾›è¡Œå·å’Œè¯¦ç»†ä¿¡æ¯

**English**:
- âœ… **Required Attribute Check**: Verify required configs like LIBRARY_ID, API_KEY exist
- âœ… **Value Validity Check**: Ensure config values are non-empty and properly formatted
- âœ… **Type Validation**: Verify fields like LIBRARY_TYPE have valid values
- âœ… **Syntax Error Hints**: Provide line numbers and details for config syntax errors

### ğŸ” é”™è¯¯æ¶ˆæ¯ç¤ºä¾‹ / Error Message Examples

**ä¸­æ–‡é”™è¯¯æ¶ˆæ¯ç¤ºä¾‹**ï¼š
```
âŒ PDFæ–‡ä»¶æŸåæˆ–æ ¼å¼ä¸æ­£ç¡®: [file_format]invalid
âŒ Zotero APIå†™å…¥æƒé™ä¸è¶³: 403 Forbidden
âš ï¸  è¯»å–ç¬¬5é¡µæ—¶å‡ºé”™: [page_extraction_error]
âŒ AIå“åº”ä¸æ˜¯æœ‰æ•ˆçš„JSON: Expecting property name enclosed in double quotes
âš ï¸  é…ç½®æ–‡ä»¶ç¼ºå°‘å¿…éœ€çš„å±æ€§: API_KEY, AI_API_KEY
```

**English Error Message Examples**:
```
âŒ PDF file corrupted or format incorrect: [file_format]invalid
âŒ Zotero API write permission denied: 403 Forbidden
âš ï¸  Error reading page 5: [page_extraction_error]
âŒ AI response is not valid JSON: Expecting property name enclosed in double quotes
âš ï¸  Config file missing required attributes: API_KEY, AI_API_KEY
```

### ğŸ“Š é”™è¯¯å¤„ç†è¦†ç›–èŒƒå›´ / Error Handling Coverage

| æ¨¡å— / Module | åŠŸèƒ½ / Function | é”™è¯¯ç±»å‹ / Error Types | å¤„ç†ç­–ç•¥ / Strategy |
|--------------|----------------|---------------------|-------------------|
| `reader.py` | `get_pdf_content` | æ–‡ä»¶é”™è¯¯ã€æ ¼å¼é”™è¯¯ã€æƒé™é”™è¯¯ | éªŒè¯ + é™çº§ |
| `reader.py` | `save_note_to_zotero` | API é”™è¯¯ã€å“åº”æ ¼å¼é”™è¯¯ | åˆ†ç±» + éªŒè¯ |
| `reader.py` | `find_collection_by_path` | ç½‘ç»œé”™è¯¯ã€æ•°æ®æ ¼å¼é”™è¯¯ | é‡è¯• + éªŒè¯ |
| `organizer.py` | `ai_dual_classify_batch` | JSON é”™è¯¯ã€API é”™è¯¯ | éªŒè¯ + é»˜è®¤å€¼ |
| `organizer.py` | `ensure_collection_path` | åˆ›å»ºå¤±è´¥ã€æƒé™é”™è¯¯ | éªŒè¯ + è¯¦ç»†æç¤º |
| `profiler.py` | `generate_dynamic_profile` | JSON Schema é”™è¯¯ | éªŒè¯ + å›é€€ |
| `keyword_classifier.py` | `fetch_items_with_retry` | ç½‘ç»œé”™è¯¯ã€é€Ÿç‡é™åˆ¶ | æ™ºèƒ½é‡è¯• |
| `config_loader.py` | `load_config` | é…ç½®ç¼ºå¤±ã€è¯­æ³•é”™è¯¯ | éªŒè¯ + æç¤º |

---

## ğŸ› å¸¸è§é—®é¢˜

### â“ æ‰¾ä¸åˆ° PDF æ–‡ä»¶ï¼Ÿ

**A**:

1. æ£€æŸ¥ `ZOTERO_STORAGE_PATH` è·¯å¾„æ˜¯å¦æ­£ç¡®
2. ç¨‹åºä¼šè‡ªåŠ¨å°è¯•å¤šç§æœç´¢ç­–ç•¥
3. å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œå¯ä»¥æ‰‹åŠ¨æ£€æŸ¥ PDF æ–‡ä»¶åæ˜¯å¦åŒ¹é…

### â“ API è°ƒç”¨å¤±è´¥ï¼Ÿ

**A**:

1. æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ Zotero API Key æœ‰**å†™å…¥æƒé™**ï¼ˆåŒ…æ‹¬åˆ›å»ºç¬”è®°ï¼‰
3. æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
4. æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼Œå¯èƒ½æ˜¯ API é™åˆ¶æˆ–æƒé™é—®é¢˜

### â“ åˆ†ç±»ç»“æœä¸å‡†ç¡®ï¼Ÿ

**A**:

1. **è¿è¡Œ profiler.py**ï¼šç”Ÿæˆä¸ªæ€§åŒ–ç”»åƒä¼šæ˜¾è‘—æå‡åˆ†ç±»å‡†ç¡®åº¦
2. æ£€æŸ¥ AI ç”Ÿæˆçš„ç¬”è®°è´¨é‡ï¼ˆå…³é”®è¯æ˜¯å¦å‡†ç¡®ï¼‰
3. åœ¨ `organizer.py` ä¸­è°ƒæ•´ `PREFERRED_TAXONOMY` ä»¥æ›´ç²¾ç¡®æè¿°ä½ çš„é¢†åŸŸ
4. å®šæœŸæ›´æ–°ç”¨æˆ·ç”»åƒï¼ˆæ¯å‘¨è¿è¡Œä¸€æ¬¡ profiler.pyï¼‰

### â“ åŒè½¨åˆ†ç±»æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ

**A**:

1. **Archive è½¨**ï¼šä¼ ç»Ÿå­¦ç§‘åˆ†ç±»ï¼Œä¾¿äºç³»ç»Ÿæ€§æ£€ç´¢ï¼ˆå¦‚"æ‰€æœ‰å…³äº ET çš„è®ºæ–‡"ï¼‰
2. **Idea Lab è½¨**ï¼šé—®é¢˜é©±åŠ¨åˆ†ç±»ï¼Œæ¿€å‘ç§‘ç ”çµæ„Ÿï¼ˆå¦‚"æ‰€æœ‰å…³äºçªå˜æœºåˆ¶çš„è®ºæ–‡"ï¼‰
3. **äº’è¡¥æ€§**ï¼šåŒä¸€ç¯‡è®ºæ–‡ä»ä¸åŒè§†è§’ç»„ç»‡ï¼Œæ»¡è¶³ä¸åŒä½¿ç”¨åœºæ™¯
4. **æ— å†²çª**ï¼šåˆ©ç”¨ Zotero å¤šé›†åˆç‰¹æ€§ï¼Œä¸€ç¯‡è®ºæ–‡å¯ä»¥åŒæ—¶å‡ºç°åœ¨å¤šä¸ªé›†åˆ

### â“ å¦‚ä½•é‡æ–°åˆ†æ/åˆ†ç±»å·²å¤„ç†çš„æ–‡çŒ®ï¼Ÿ

**A**:

1. åœ¨ Zotero ä¸­æ‰¾åˆ°è¯¥æ–‡çŒ®
2. åˆ é™¤ç›¸åº”æ ‡ç­¾ï¼ˆ`gemini_read` æˆ– `auto_organized`ï¼‰
3. é‡æ–°è¿è¡Œç¨‹åº

### â“ å¤„ç†é€Ÿåº¦æ…¢ï¼Ÿ

**A**:

- AI åˆ†ææ¯ç¯‡è®ºæ–‡éœ€è¦ 30-120 ç§’
- ç¨‹åºå·²å†…ç½®å»¶è¿Ÿé¿å…è§¦å‘ API é™åˆ¶
- å¤§æ‰¹é‡å¤„ç†å»ºè®®åˆ†æ‰¹è¿›è¡Œæˆ–ä½¿ç”¨æµ‹è¯•æ¨¡å¼å…ˆéªŒè¯

---

## ğŸ“¦ ä¾èµ–åŒ…

```
pyzotero>=2.0.0      # Zotero API å®¢æˆ·ç«¯
google-genai>=0.2.0  # Google Gemini API
PyMuPDF>=1.23.0      # PDF æ–‡æœ¬æå–
markdown>=3.4.0      # Markdown è½¬ HTML
```

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šå¿«é€Ÿäº†è§£æ–°é¢†åŸŸ

**åœºæ™¯**ï¼šä½ åˆšè¿›å…¥"Flash Drought"ç ”ç©¶é¢†åŸŸï¼Œéœ€è¦å¿«é€Ÿç†è§£ 20 ç¯‡æ ¸å¿ƒè®ºæ–‡ã€‚

**æ“ä½œ**ï¼š

1. åœ¨ Zotero ä¸­åˆ›å»ºé›†åˆ "00_Inbox/Flash Drought"
2. æ·»åŠ  20 ç¯‡è®ºæ–‡åˆ°è¯¥é›†åˆ
3. é…ç½®å¹¶è¿è¡Œï¼š

```python
# config.py
TARGET_COLLECTION_PATH = "00_Inbox/Flash Drought"

# è¿è¡Œå®Œæ•´å·¥ä½œæµ
python reader.py
python profiler.py
python organizer.py
```

**ç»“æœ**ï¼š
- æ¯ç¯‡è®ºæ–‡éƒ½æœ‰è¯¦ç»†çš„ AI ç¬”è®°
- è‡ªåŠ¨åŒè½¨åˆ†ç±»åˆ°ï¼š
  - ğŸ“š "Archive/Hazards/Drought/Flash Drought"
  - ğŸ’¡ "Idea Lab/Dynamics/Rapid Onset Events"
- å¿«é€Ÿå»ºç«‹é¢†åŸŸçŸ¥è¯†æ¡†æ¶ï¼Œæ—¢èƒ½ç³»ç»Ÿæ£€ç´¢åˆèƒ½æ¢ç´¢æœºåˆ¶

---

### ç¤ºä¾‹ 2ï¼šæŒç»­è·Ÿè¸ªç ”ç©¶å‰æ²¿

**åœºæ™¯**ï¼šæ¯å‘¨æœ‰æ–°è®ºæ–‡å…¥åº“ï¼Œéœ€è¦æŒç»­å¤„ç†ã€‚

**æ“ä½œ**ï¼š

```bash
# åˆ›å»ºå‘¨æœŸæ€§ä»»åŠ¡ï¼ˆLinux/Macï¼‰
# crontab -e æ·»åŠ ï¼š
0 2 * * 0 cd /path/to/zotero-ai-reader && python reader.py && python organizer.py
0 2 1 * * cd /path/to/zotero-ai-reader && python profiler.py  # æ¯æœˆæ›´æ–°ç”»åƒ
```

**ç»“æœ**ï¼š
- æ¯å‘¨æ—¥å‡Œæ™¨è‡ªåŠ¨å¤„ç†æ–°è®ºæ–‡
- æ¯æœˆåˆæ›´æ–°ç ”ç©¶ç”»åƒ
- å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€äººå·¥å¹²é¢„

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æå‡ºå»ºè®®ã€æŠ¥å‘Šé—®é¢˜ï¼

### è´¡çŒ®æ–¹å‘

- ğŸ› Bug ä¿®å¤
- âœ¨ æ–°åŠŸèƒ½å¼€å‘
- ğŸ“ æ–‡æ¡£æ”¹è¿›
- ğŸ—‚ï¸ æ›´å¤šé¢†åŸŸçš„åŒè½¨åˆ†ç±»æ¨¡æ¿
- ğŸŒ å¤šè¯­è¨€æ”¯æŒ

---

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

- [Zotero](https://www.zotero.org/) - ä¼˜ç§€çš„æ–‡çŒ®ç®¡ç†å·¥å…·
- [Google Gemini](https://ai.google.dev/) - å¼ºå¤§çš„ AI æ¨¡å‹
- [pyzotero](https://github.com/urschrei/pyzotero) - Zotero API å®¢æˆ·ç«¯

---

## ğŸ“§ è”ç³»æ–¹å¼

- ğŸ› **é—®é¢˜åé¦ˆ**ï¼š[GitHub Issues](https://github.com/yourusername/zotero-ai-reader/issues)
- ğŸ’¬ **è®¨è®ºäº¤æµ**ï¼š[GitHub Discussions](https://github.com/yourusername/zotero-ai-reader/discussions)
- ğŸ“§ **é‚®ä»¶è”ç³»**ï¼šlicm@scut.com

---

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**

Made with â¤ï¸ by Prof. Chengming Li & community

</div>
